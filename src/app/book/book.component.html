<app-home></app-home>


<div class="content">

    <div>
        <mat-label style="margin-left:37%;color: blue;font-size: 20px;"> Book Management</mat-label>


        <ul class="list-group" style="width: 50%;margin-top:2%;margin-left: 20%;">
            <li class="list-group-item"><span style="margin-left:5%">Book </span>
                <i style="margin-left:70%" class="fa fa-plus" aria-hidden="true" [routerLink]="['/addbook']"></i>
                <span (click)="showBooks()" class="badge list">{{bookCount}}</span></li>

            <li class="list-group-item"><span style="margin-left:5%">Author</span>
                <i style="margin-left:69%" class="fa fa-plus" aria-hidden="true" [routerLink]="['/addauthor']"></i>
                <span (click)="showAuthors()" class="badge list">{{authorCount}}</span></li>

            <li class="list-group-item"><span style="margin-left:5%">Publisher</span>
                <i style="margin-left:66.5%" class="fa fa-plus" aria-hidden="true" [routerLink]="['/addpublisher']"></i>
                <span (click)="showPublishers()" class="badge list">{{publisherCount}}</span></li>

            <li class="list-group-item"><span style="margin-left:5%">Category</span>
                <i style="margin-left:67%" class="fa fa-plus" aria-hidden="true" [routerLink]="['/addcategory']"></i>
                <span (click)="showCategories()" class="badge list">{{categoryCount}}</span></li>
                <div *ngIf="loading == 'true'" style="margin-left: 16%;" class="lds-default"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>

            <li class="list-group-item"><span style="margin-left:5%">Sub-Category</span>
                <i style="margin-left:62.5%" class="fa fa-plus" aria-hidden="true"
                    [routerLink]="['/addsubcategory']"></i> 
                <span (click)="showSubCategories()" class="badge list test">{{subcategoryCount}}</span></li>

        </ul>


    </div>   

    

    <div style="margin-left:10%;" *ngIf="showBook == 'true' ">
        <div class="row">
            <mat-form-field style="width: 50%;margin-top: 2%;width: 30%;">
                <mat-label> Search Here</mat-label>
                <input matInput placeholder="Book" [(ngModel)]="term">
            </mat-form-field>
            
            <div style="padding-top: 10px;">
                <button type="submit" (click)="searchByKeywords()" (changedBySearch)="changedBySearch($event)"><i class="fa fa-search"></i></button>
            </div>
        </div>
        
        <div style="height: 500px; width:90%;overflow-y: auto;overflow-x:auto;">
            <table class="table table-striped table-condensed table-hover tblborder">
                
                <thead>
                    <tr>
                        <td style="color:blue;font-weight: bold;" colspan="12">Book List</td>
                    </tr>               
                    <tr>
                        <th style="width: 5%;text-align: left;">Edit</th>
                        <th style="width: 10%;text-align: left;">BookTitle </th>
                        <th style="width: 10%;text-align: left;">Accession No</th>
                        <th style="width: 10%;text-align: left;">State</th>
                        <th style="width: 10%;text-align: left;">Created Date</th>
                        <th style="width: 10%;text-align: left;">Size</th>
                        <th style="width: 10%;text-align: left;">Download Approval</th>
                        <th style="width: 5%;text-align: left;">Delete</th>
                    </tr>

                </thead>
                <tbody>
                    <tr *ngFor="let obj of books | paginate:config">
                        <td style="width: 5%;text-align: left;">
                            <i style="margin-left:12%" value="{{obj.boId}}" [routerLink]="['/editbook/', obj.boId]"
                                class="fa fa-pencil-square-o" aria-hidden="true"></i>

                        </td>
                        <td at-implicit at-sortable at-attribute style="width: 10%;text-align: left;">{{obj.title}}</td>
                        <td style="width: 10%;text-align: left;">{{obj.callNo}}</td>
                        <td style="color: blue;" style="width: 10%;text-align: left;">{{obj.state}}</td>
                        <td style="width: 10%;text-align: left;"> {{obj.createdDate}}</td>
                        <td style="width: 10%;text-align: left;">{{obj.size}}</td>

                        <td style="width: 10%;text-align: left;">
                            <input style="text-align: center;" type="checkbox" [(ngModel)]="obj.downloadApproval">

                        </td>
                    
                        <td style="width: 5%;text-align: left;">
                            <i style="margin-left:12%" value="{{obj.boId}}" (click)="deleteBook($event)" class="fa fa-trash"
                                aria-hidden="true"></i>

                        </td>
                    </tr>
                </tbody>
            </table> 
        </div>
        <div *ngIf = "config.totalItems != 0" style="text-align: center;">
            <pagination-controls (pageChange)="pageChanged($event)"></pagination-controls> 
        </div>
    </div>

    
        
    <div style="margin-left:10%;height: 500px;overflow-y: auto;width:90%;overflow-x:auto;" *ngIf="showAuthor == 'true' ">
        <mat-form-field style="width: 50%;margin-top: 2%;width: 30%;">
            <mat-label> Search Here</mat-label>
            <input matInput placeholder="Author" [(ngModel)]="authorTerm">
        </mat-form-field>
    
        <table class="table table-striped table-condensed table-hover tblborder">
            <thead>
                <tr>
                    <td style="color:blue;font-weight: bold;" colspan="12">Author List</td>
                </tr>
                <tr>
                    <th scope="col" style="width: 5%;text-align: left;">Edit</th>

                    <th scope="col" style="width: 10%;text-align: left;">Profile <Picture></Picture></th>
                    <th scope="col" style="width: 10%;text-align: left;">Type</th>

                    <th scope="col" style="width: 10%;text-align: left;">Name</th>
                    <th scope="col" style="width: 10%;text-align: left;">Sort</th>
                    <th scope="col" style="width: 5%;text-align: left;">Delete</th>
                </tr>

            </thead>
            <tbody>
                <tr *ngFor="let item of authors | filter:authorTerm;">
                    <td>
                        <i style="margin-left:12%" value="{{item.boId}}" [routerLink]="['/editauthor/', item.boId]" class="fa fa-pencil-square-o" aria-hidden="true"></i>

                    </td>
                    <td>
                        <img class="profile" src="http://localhost:8080/{{item.profilePicture}}"
                            alt="W3Schools.com">
                    </td>
                    <td>{{item.authorType}}</td>

                    <td>{{item.name}}</td>
                    <td>{{item.sort}}</td>
                  
                    <td>
                        <i style="margin-left:12%" value="{{item.boId}}" (click)="deleteAuthor($event)" class="fa fa-trash" aria-hidden="true"></i>

                      
                    </td>
                </tr>
            </tbody>
        </table>
    </div>



    <div style="height: 500px;overflow-y: auto;width:53%;margin-left:20%;overflow-x:auto" *ngIf="showPublisher == 'true' ">
        
        <mat-form-field style="width: 50%;margin-top: 2%;width: 30%;">
            <mat-label> Search Here </mat-label>
            <input matInput placeholder="Publisher" [(ngModel)]="publisherTerm">
        </mat-form-field>
        <table class="table table-striped table-condensed table-hover tblborder">
            <thead>
                <tr>
                    <td style="color:blue;font-weight: bold;" colspan="12">Publisher List</td>
                </tr>
                <tr>
                    <th scope="col" style="width: 5%;text-align: left;">Edit</th>
                    <th scope="col" style="width: 10%;text-align: left;">Name</th>
                    <th scope="col" style="width: 10%;text-align: left;">Sort</th>
                    <th scope="col" style="width: 5%;text-align: left;">Delete</th>
                </tr>

            </thead>
            <tbody>
                <tr *ngFor="let item of publishers | filter:publisherTerm;">
                      <td>
                        <i style="margin-left:12%" value="{{item.boId}}" [routerLink]="['/editpublisher/', item.boId]" class="fa fa-pencil-square-o" aria-hidden="true"></i>

                    </td>
                    <td>{{item.name}}</td>
                    <td>{{item.sort}}</td>
                  
                    <td>
                        <i style="margin-left:12%" value="{{item.boId}}" (click)="deletePublisher($event)" class="fa fa-trash" aria-hidden="true"></i>

                      
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div style="height: 500px;overflow-y: auto;width:53%;margin-left:20%;overflow-x:auto" *ngIf="showCategory == 'true' ">
             
        <mat-form-field style="width: 50%;margin-top: 2%;width: 30%;">
            <mat-label> Search Here</mat-label>
            <input matInput placeholder="Category" [(ngModel)]="categoryTerm">
        </mat-form-field>
        <table class="table table-striped table-condensed table-hover tblborder">
            <thead>
                <tr>
                    <td style="color:blue;font-weight: bold;" colspan="12">Category List</td>
                </tr>
                <tr>
                    <th scope="col" style="width: 5%;text-align: left;">Edit</th>
                    <th scope="col" style="width: 5%;text-align: left;">Priority (ASC)</th>
                    <th scope="col" style="width: 10%;text-align: left;">Myanmar Name</th>
                    <th scope="col" style="width: 10%;text-align: left;">Eng Name</th>
                    <th scope="col" style="width: 5%;text-align: left;">Delete</th>
                </tr>

            </thead>
            <tbody>
                <tr *ngFor="let item of categories | filter:categoryTerm;">
                    <td>
                        <i style="margin-left:12%" value="{{item.boId}}" [routerLink]="['/editcategory/', item.boId]" class="fa fa-pencil-square-o" aria-hidden="true"></i>

                    </td>
                    <td>{{item.priority}}</td>
                    <td>{{item.myanmarName}}</td>
                    <td>{{item.engName}}</td>                  
                    <td>
                        <i style="margin-left:12%" value="{{item.boId}}" (click)="deleteCategory($event)" class="fa fa-trash" aria-hidden="true"></i>

                      
                    </td>
                </tr>
            </tbody>
        </table>
    </div>


    <div style="height: 500px;overflow-y: auto;width:49%;margin-left:22%;overflow-x:auto" *ngIf="showSubCategory == 'true' ">
        <mat-form-field style="width: 50%;margin-top: 2%;width: 30%;">
            <mat-label> Search Here </mat-label>
            <input matInput placeholder="Sub-Category" [(ngModel)]="subcategoryTerm">
        </mat-form-field>
        <table class="table table-striped table-condensed table-hover tblborder">
            <thead>
                <tr>
                    <td style="color:blue;font-weight: bold;" colspan="12">Sub-Category List</td>
                </tr>
                <tr>
                    <th scope="col" style="width: 5%;text-align: left;text-align: center;">Edit</th>
                    <th scope="col" style="width: 5%;text-align: left;">Priority (ASC)</th>
                    <th scope="col" style="width: 10%;text-align: left;text-align: center;">Myanmar Name</th>
                    <th scope="col" style="width: 10%;text-align: left;text-align: center;">English Name</th>
                    <th scope="col" style="width: 5%;text-align: left;text-align: center;">Delete</th>

                </tr>

            </thead>
            <tbody>
                <tr *ngFor="let item of subcategories | filter:subcategoryTerm;">                    
                    <td>
                        <i style="margin-left:12%" value="{{item.boId}}" [routerLink]="['/editsubcategory/', item.boId]"  class="fa fa-pencil-square-o" aria-hidden="true"></i>

                    </td>
                    <td style="text-align: center;">{{item.priority}}</td>
                    <td style="text-align: center;">{{item.myanmarName}}</td>
                    <td style="text-align: center;">{{item.engName}}</td>
                    <td>
                        <i style="margin-left:12%" value="{{item.boId}}" (click)="deleteSubCategory($event)" class="fa fa-trash" aria-hidden="true"></i>
                  
                    </td>
                   
                </tr>
            </tbody>
        </table>
    </div>

</div>
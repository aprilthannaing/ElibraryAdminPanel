<app-header></app-header>
<nav>
    <ul>
        <li>
            <a [routerLink]="['/dashboard']">
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-columns-gap" fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                        d="M6 1H1v3h5V1zM1 0a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1H1zm14 12h-5v3h5v-3zm-5-1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-5zM6 8H1v7h5V8zM1 7a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1H1zm14-6h-5v7h5V1zm-5-1a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1h-5z" />
                </svg><span style="margin-left: 5%;">Dashboard</span></a></li>
        <li><a (click)="manageBooks()">
                <!--[routerLink]="['/book']"-->
                <i class="fa fa-book" aria-hidden="true" style="margin-top: 3px;"></i>
                <span style="margin-left: 6%;">Book</span>
                <span (click)="approve()" *ngIf="userRole == 'SuperLibrarian'"
                    style="margin-left: 6%;background-color: blue;margin-bottom: 2%;"
                    class="badge list">{{books.length}}</span>

            </a>
        </li>

        <li>
            <a [routerLink]="['/userList']">
                <i class="fa fa-users" aria-hidden="true"></i>
                <span style="margin-left: 4%;">User Management</span>
            </a>
        </li>
        <li>
            <a [routerLink]="['/changeStatus']" *ngIf="userRole == 'Admin' || userRole == 'SuperLibrarian'">
                <i class="fa fa-users" aria-hidden="true"></i>
                <span style="margin-left: 4%;">New User Approval</span>
            </a>
        </li>
        <li>
            <a [routerLink]="['/user-upload']">
                <i class="fa fa-users" aria-hidden="true"></i>
                <span style="margin-left: 4%;">User Upload</span>
            </a>
        </li>
        <li>
            <a (click)="goSetup('lov1')" *ngIf="userRole == 'Admin'">

                <i class="fa fa-university" style="font-size:15px"></i>
                <span style="margin-left: 4%;">Department</span>
            </a>
        </li>
        <li>
            <a (click)="goSetup('lov2')" *ngIf="userRole == 'Admin'">
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-briefcase-fill" fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                        d="M0 12.5A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5V6.85L8.129 8.947a.5.5 0 0 1-.258 0L0 6.85v5.65z" />
                    <path fill-rule="evenodd"
                        d="M0 4.5A1.5 1.5 0 0 1 1.5 3h13A1.5 1.5 0 0 1 16 4.5v1.384l-7.614 2.03a1.5 1.5 0 0 1-.772 0L0 5.884V4.5zm5-2A1.5 1.5 0 0 1 6.5 1h3A1.5 1.5 0 0 1 11 2.5V3h-1v-.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5V3H5v-.5z" />
                </svg>
                <span style="margin-left: 4%;">Position</span>
            </a>
        </li>
        <li>
            <a [routerLink]="['/changePwd2']">
                <i class="fa fa-cog" aria-hidden="true" style="font-size:15px"></i>
                <span style="margin-left: 4%;">Change Password</span>
            </a>
        </li>
        <li>
            <a (click)="goLogout()">
                <i class="glyphicon glyphicon-log-out"></i>
                <span style="margin-left: 4%;">Logout</span>
            </a>
        </li>
    </ul>
</nav>

<div class="content" *ngIf="showBook">
    <mat-form-field style="margin-left: 3%;width: 50%;margin-top: 2%;width: 30%;">
        <mat-label> Book</mat-label>
        <input matInput placeholder="Search Here" [(ngModel)]="term">
    </mat-form-field>
    <br>
    <div style="margin-left: 5%;height: 300px; width:90%;overflow-y: auto;overflow-x:auto;">
        <table class="table table-striped table-condensed table-hover tblborder">
            
            <thead>
                <tr>
                    <td style="color:blue;font-weight: bold;" colspan="12">Book List</td>
                </tr>               
                <tr>
                    <th style="width: 5%;text-align: left;">Edit</th>
                    <th style="width: 10%;text-align: left;">BookTitle </th>
                    <th style="width: 10%;text-align: left;">Accession No</th>
                    <th style="width: 10%;text-align: left;">State</th>
                    <th style="width: 10%;text-align: left;">Created Date</th>
                    <th style="width: 10%;text-align: left;">Size</th>
                    <th style="width: 10%;text-align: left;">Download Approval</th>
                    <th style="width: 5%;text-align: left;">Delete</th>
                </tr>

            </thead>
            <tbody>
                <tr *ngFor="let obj of books | filter:term">
                    <td style="width: 5%;text-align: left;">
                        <i style="margin-left:12%" value="{{obj.boId}}" [routerLink]="['/editbook/', obj.boId]"
                            class="fa fa-pencil-square-o" aria-hidden="true"></i>

                    </td>
                    <td at-implicit at-sortable at-attribute style="width: 10%;text-align: left;">{{obj.title}}</td>
                    <td style="width: 10%;text-align: left;">{{obj.callNo}}</td>
                    <td style="color: blue;" style="width: 10%;text-align: left;">{{obj.state}}</td>
                    <td style="width: 10%;text-align: left;"> {{obj.createdDate}}</td>
                    <td style="width: 10%;text-align: left;">{{obj.size}}</td>

                    <td style="width: 10%;text-align: left;">
                        <input style="text-align: center;" type="checkbox" [(ngModel)]="obj.downloadApproval">

                    </td>
                
                    <td style="width: 5%;text-align: left;">
                        <i style="margin-left:12%" value="{{obj.boId}}" (click)="deleteBook($event)" class="fa fa-trash"
                            aria-hidden="true"></i>

                    </td>
                </tr>
            </tbody>
        </table> 
    </div>
</div>